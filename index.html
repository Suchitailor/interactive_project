<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="js/d3.v7.js"></script>
    <title>Natural Disasters 1970-2021</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <link rel="stylesheet" href="theme.css">
  </head>
  <body>
    <section class="header">
        <h1 class="title">
            Natural Disasters 1970-2021
        </h1>
    </section>
    <section class = "section">
            <div id = "globalOverview" class = "container global">
                <div class = "item chartTitle"> Global Frequency of Natural Disasters </div>
                <p> Since the 1970s, the frequency of natural disasters has increased worldwide. Click 
                    around to explore what types of disasters have been most frequent over the years. </p>
                <div class="item buttons are-small is-grouped are-hovered are-responsive container frequency" id ="legendButtons">
                    <button class = "button all">All</button>
                    <button class = "button" >Drought</button>
                    <button class = "button">Earthquake</button>
                    <button class = "button">Epidemic</button>
                    <button class = "button">Extreme temperature </button>
                    <button class = "button">Flood</button>
                    <button class = "button">Landslide</button>
                    <button class = "button">Storm</button>
                    <button class = "button">Wildfire</button>
                    <button class = "button">Other</button>
                </div >
                <div class = "item chart" id="globalFrequency" ></div>
                <div class = "item chartTitle"> Global Cost of Natural Disasters (Billions of USD) </div>
                <p> The natural disasters have grown increasingly expensive. Take a look at the below graph to
                    examine the costs. Please note that "G" represents Billions. </p>
                <div id="globalCost" ></div>

        </div>
            <script class = "frequencyScript">
                fetch('data/cleaned/annual_frequencies.csv')
                    .then(response => response.text()) 
                    .then(csvString => {
                        const global_freq = d3.csvParse(csvString, (d) => { 
                            return {
                            year: d.Year, 
                            disasterType: d.disasterType,
                            frequency: +d.len,
                            compkey: d.compkey
                            }}
                        )
                            console.log(global_freq)
                            // Specify the chartâ€™s dimensions.
                            const width= 1300;
                            const height = 600;
                            const marginTop = 20;
                            const marginRight = 20;
                            const marginBottom = 30;
                            const marginLeft = 50;

                            let div2 = d3
                                .select("#globalFrequency")
                                .append("svg")
                                .attr("width", width)
                                .attr("height", height)
                                .attr("viewBox", [0, 0, width, height])
                                .text("Number of Natural Disasters")
                                .attr("style", "max-width: 100%; height: auto; overflow: visible; font: 10px sans-serif;");

                            const series = d3.stack()
                                    .keys(d3.union(global_freq.map(d => d.disasterType))) // distinct series keys, in input order
                                    .value(([, D], key) => D.get(key)?.frequency || 0) // get value for each series key and stack, default 0 
                                    (d3.index(global_freq, d => d.year, d => d.disasterType)); // group by stack then series key
                                
                            console.log(series)
                            
                            // Prepare the scales for positional and color encodings.
                            let allYears = [...new Set(global_freq.map(d => d.year))].sort();
                            let disType = [...new Set(global_freq.map(d => d.disasterType))].sort(); 
                            console.log(disType)

                            const x = d3.scaleBand()
                                .domain(allYears)
                                .range([marginLeft, width - marginRight])
                                .padding(0.1);
                            
                            const y = d3.scaleLinear()
                                .domain([0, 1.25 * (d3.max(series, d => d3.max(d, d => d[1])))])
                                .rangeRound([height - marginBottom, marginTop]);

                            console.log(d3.schemeObservable10)
                            var color = d3.scaleOrdinal()
                                .domain(disType)
                                .range(d3.schemeObservable10)

                            // A function to format the value in the tooltip.
                            const formatValue = x => isNaN(x) ? "N/A" : x.toLocaleString("en")

                            // Append the horizontal axis.
                            div2.append("g")
                                .attr("transform", `translate(0,${height - marginBottom})`)
                                .call(d3.axisBottom(x)
                                    .tickValues(allYears.filter(year => year % 5 === 0)) // Show every 5th year
                                    .tickSizeOuter(0)
                                )
                                .call(g => g.selectAll(".domain").remove());

                            // Append the vertical axis.
                            div2.append("g")
                                .attr("transform", `translate(${marginLeft},0)`)
                                .call(d3.axisLeft(y).ticks(null, "s"))
                                .call(g => g.selectAll(".domain").remove());
                            
                            // ----------------
                            // Create a tooltip
                            // ----------------
                            var tooltip = d3.select("#globalFrequency")
                                .append("div")
                                .style("opacity", 0)
                                .attr("class", "tooltip")
                                .style("background-color", "white")
                                .style("border", "solid")
                                .style("border-width", "1px")
                                .style("border-radius", "5px")
                                .style("padding", "10px")

                            // Three function that change the tooltip when user hover / move / leave a cell
                            var mouseover = function(d) {
                                var disasterType = d3.select(this.parentNode).datum().key;
                                var frequency = -(d3.select(this).datum()[0] - d3.select(this).datum()[1]);
                                var value = this
                                tooltip
                                    .html(`${disasterType}: ${frequency}`)
                                    .style("opacity", 1)
                            }
                            var mousemove = function(d) {
                                tooltip
                                .style("left", (d3.pointer(this)[0]+90) + "px") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect
                                .style("top", (d3.pointer(this)[1]) + "px")
                            }

                            var mouseleave = function(d) {
                                tooltip
                                .style("opacity", 0)
                            }
                            // ----------------
                            // Build Initial Chart
                            // ----------------
                            disType.unshift("All")

                            function loadInitialState() {
                                
                                // start all buttons in colored, but inactive state
                                d3.selectAll('button')
                                        .classed('is-active', false) 
                                        .classed('initial', true) 
                                
                                d3.selectAll(".initial")
                                    .data(disType)
                                    .style("background-color", function(d) {
                                        console.log(d)
                                        if (d === "All" )
                                        {return "black"}
                                        else { return color(d)
                                        }
                            })
                                div2.append("g")
                                .selectAll()
                                .data(series)
                                .join("g")
                                .attr("fill", d => color(d.key))
                                .selectAll("rect")
                                .data(D => D.map(d => (d.key = D.key, d)))
                                .join("rect")
                                .attr("id", "globalbars")
                                .attr("x", d => x(d.data[0]))
                                .attr("y", d => y(d[1]))
                                .on("mouseover", mouseover)
                                .on("mousemove", mousemove)
                                .on("mouseleave", mouseleave)
                                .attr("height", d => y(d[0]) - y(d[1]))
                                .attr("width", x.bandwidth())
                                .append("title")
                            }

                            // generate full chart as initial state
                            loadInitialState()

                            // ----------------
                            // Add Buttons
                            // ----------------

                            // add interactivity to Buttons
                            legendButtons = d3.select("#legendButtons")
                                .selectAll("button")
                                .on("click", (event)=> {
                                    event.target.classList.toggle("is-active");

                                    // Log & Extract selected buttons
                                    const selectedButtons = d3.selectAll("#legendButtons .is-active")
                                        .nodes()
                                        .map(button => button.textContent); // Extract text content from the clicked buttons

                                    console.log("Selected Buttons:", selectedButtons);
                                    updateButtons(selectedButtons)
                                    updateChart(selectedButtons)
                                })
                                

                            // generate filter for when buttons are selected 
                            function filterData(selectedButtons) {
                                const filteredData = global_freq.filter(function(d,i){
                                    return selectedButtons.indexOf(d.disasterType) >= 0
                                })

                                const filteredSeries = d3.stack()
                                    .keys(d3.union(filteredData.map(d => d.disasterType))) // distinct series keys, in input order
                                    .value(([, D], key) => D.get(key)?.frequency || 0) // get value for each series key and stack, default 0 
                                    (d3.index(filteredData, d => d.year, d => d.disasterType)); // group by stack then series key
                                // console.log(filteredSeries)
                                return filteredSeries
                            }

                            function updateButtons(selectedButtons){
                                // remove initial state (for background colors)

                                    d3.selectAll('.initial')
                                        .classed('initial', false) 

                                    // black out non-selected buttons
                                    d3.selectAll('button:not(.is-active)')
                                        .style('background-color', "black") 
                                    
                                    // highlight selected buttons
                                    d3.selectAll('.is-active')
                                        .data(selectedButtons)
                                        .style('background-color', d => color(d) )
                            }
                            // generate updated chart after selection
                            function updateChart(selectedButtons) {
                                
                                // remove all existing bars
                                d3.selectAll("#globalbars").remove();

                                // if "All" or nothing is selected, load initial state
                                if (selectedButtons.includes("All") ||
                                    selectedButtons.length === 0) {
                                    return loadInitialState()
                                }

                                // if options are selected, load chart with selected options
                                else {
                                const filteredSeries = filterData(selectedButtons)
                                console.log(filteredSeries)
                                
                                // graph with newly selected data
                                div2.append("g")
                                .selectAll()
                                .data(filteredSeries)
                                .join("g")
                                .attr("fill", d => color(d.key))
                                .selectAll("rect")
                                .data(D => D.map(d => (d.key = D.key, d)))
                                .join("rect")
                                .attr("id", "globalbars")
                                .attr("x", d => x(d.data[0]))
                                .attr("y", d => y(d[1]))
                                .on("mouseover", mouseover)
                                .on("mousemove", mousemove)
                                .on("mouseleave", mouseleave)
                                .attr("height", d => y(d[0]) - y(d[1]))
                                .attr("width", x.bandwidth())
                                .append("title")
                                }
                            }

                        })

                    .catch(error => console.error('Error fetching CSV:', error)); 
            </script>
            <script>
                fetch('data/cleaned/disaster_costs.csv')
                    .then(response => response.text()) 
                    .then(csvString => {
                        const global_cost = d3.csvParse(csvString, (d) => { 
                            return {
                            year: d.Year, 
                            disasterType: d.disasterType,
                            cost: d.economicdamage
                            }}
                        )

                        console.log(global_cost)
                            // Specify the chartâ€™s dimensions.
                            const width= 1300;
                            const height = 600;
                            const marginTop = 20;
                            const marginRight = 20;
                            const marginBottom = 30;
                            const marginLeft = 50;

                            let div3 = d3
                                .select("#globalCost")
                                .append("svg")
                                .attr("width", width)
                                .attr("height", height)
                                .attr("viewBox", [0, 0, width, height])
                                .text("Number of Natural Disasters")
                                .attr("style", "max-width: 100%; height: auto; overflow: visible; font: 10px sans-serif;");

                            const cost_series = d3.stack()
                                    .keys(d3.union(global_cost.map(d => d.disasterType))) // distinct series keys, in input order
                                    .value(([, D], key) => D.get(key)?.cost || 0) // get value for each series key and stack, default 0 
                                    (d3.index(global_cost, d => d.year, d => d.disasterType)); // group by stack then series key
                                
                            console.log(`cost series:`,cost_series)
                            
                            // Prepare the scales for positional and color encodings.
                            let allYears = [...new Set(global_cost.map(d => d.year))].sort();
                            let disType = [...new Set(global_cost.map(d => d.disasterType))].sort(); 

                            const x = d3.scaleBand()
                                .domain(allYears)
                                .range([marginLeft, width - marginRight])
                                .padding(0.1);
                            
                            const y = d3.scaleLinear()
                                .domain([0, 1.25 * (d3.max(cost_series, d => d3.max(d, d => d[1])))])
                                .rangeRound([height - marginBottom, marginTop]);

                            console.log(y)

                            var color = d3.scaleOrdinal()
                                .domain(disType)
                                .range(d3.schemeObservable10)
                            
                            console.log(disType)
                            // Append the horizontal axis.
                            div3.append("g")
                                .attr("transform", `translate(0,${height - marginBottom})`)
                                .call(d3.axisBottom(x)
                                    .tickValues(allYears.filter(year => year % 5 === 0)) // Show every 5th year
                                    .tickSizeOuter(0)
                                )
                                .call(g => g.selectAll(".domain").remove());

                            // Append the vertical axis.
                            div3.append("g")
                                .attr("transform", `translate(${marginLeft},0)`)
                                .call(d3.axisLeft(y).ticks(null, "~s"))
                                .call(g => g.selectAll(".domain").remove());
                            
                            // ----------------
                            // Initiate a tooltip
                            // ----------------

                            var tooltip = d3.select("#globalCost")
                                .append("div")
                                .style("opacity", 0)
                                .attr("class", "tooltip")
                                .style("background-color", "white")
                                .style("border", "solid")
                                .style("border-width", "1px")
                                .style("border-radius", "5px")
                                .style("padding", "10px")

                            // Three function that change the tooltip when user hover / move / leave a cell
                            var mouseover = function(d) {
                                var disasterType = d3.select(this.parentNode).datum().key;
                                var cost = -(d3.select(this).datum()[0] - d3.select(this).datum()[1]);
                                var value = this
                                tooltip
                                    .html(`${disasterType}: $${d3.format("~s")(cost)}`)
                                    .style("opacity", 1)
                            }
                            var mousemove = function(d) {
                                tooltip
                                .style("left", (d3.pointer(this)[0]+90) + "px") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect
                                .style("top", (d3.pointer(this)[1]) + "px")
                            }

                            var mouseleave = function(d) {
                                tooltip
                                .style("opacity", 0)
                            }
                            
                            // ----------------
                            // Build Initial Chart
                            // ----------------
                            disType.unshift("All")

                            function loadInitialState() {
                                
                            div3.append("g")
                                .selectAll()
                                .data(cost_series)
                                .join("g")
                                .attr("fill", d => color(d.key))
                                .selectAll("rect")
                                .data(D => D.map(d => (d.key = D.key, d)))
                                .join("rect")
                                .attr("id", "econbars")
                                .attr("x", d => x(d.data[0]))
                                .attr("y", d => y(d[1]))
                                .on("mouseover", mouseover)
                                .on("mousemove", mousemove)
                                .on("mouseleave", mouseleave)
                                .attr("height", d => y(d[0]) - y(d[1]))
                                .attr("width", x.bandwidth())
                                .append("title")
                            }

                            // generate full chart as initial state
                            loadInitialState()


                            // ----------------
                            // Add Buttons - NOT WORKING (keeping this section in submission in case I come back to this)
                            // ----------------

                            // add interactivity to Buttons
                            // legendButtons = d3.select("#legendButtons")
                            //     .selectAll("button")
                            //     .on("click", (event)=> {
                            //         //event.target.classList.toggle("is-active");

                            //         // Log & Extract selected buttons
                            //         const selectedButtons = d3.selectAll("#legendButtons .is-active")
                            //             .nodes()
                            //             .map(button => button.textContent); // Extract text content from the clicked buttons

                            //         console.log("Selected Cost Buttons:", selectedButtons);
                            //         //updateButtons(selectedButtons)
                            //         //updateChart(selectedButtons)
                            //     })
                                

                            // // generate filter for when buttons are selected 
                            // function filterData(selectedButtons) {
                            //     const filteredData = global_cost.filter(function(d,i){
                            //         return selectedButtons.indexOf(d.disasterType) >= 0
                            //     })

                            //     const filteredSeries = d3.stack()
                            //         .keys(d3.union(filteredData.map(d => d.disasterType))) // distinct series keys, in input order
                            //         .value(([, D], key) => D.get(key)?.cost || 0) // get value for each series key and stack, default 0 
                            //         (d3.index(filteredData, d => d.year, d => d.disasterType)); // group by stack then series key
                            //     console.log("cost",filteredSeries)
                            //     return filteredSeries
                            // }

                            // function updateButtons(selectedButtons){
                            //     // remove initial state (for background colors)

                            //         d3.selectAll('.initial')
                            //             .classed('initial', false) 

                            //         // black out non-selected buttons
                            //         d3.selectAll('button:not(.is-active)')
                            //             .style('background-color', "black") 
                                    
                            //         // highlight selected buttons
                            //         d3.selectAll('.is-active')
                            //             .data(selectedButtons)
                            //             .style('background-color', d => color(d) )
                            // }
                            // generate updated chart after selection
                            // function updateChart(selectedButtons) {
                                
                            //     // remove all existing bars
                            //     d3.selectAll("#econbars").remove();

                            //     // if "All" or nothing is selected, load initial state
                            //     if (selectedButtons.includes("All") ||
                            //         selectedButtons.length === 0) {
                            //         return loadInitialState()
                            //     }

                            //     // if options are selected, load chart with selected options
                            //     else {
                            //     const filteredSeries = filterData(selectedButtons)
                            //     console.log(filteredSeries)
                                

                            //     // if a button value is in selectedButtons, change state to is-active
                            //     // graph with newly selected data
                            //     div3.append("g")
                            //     .selectAll()
                            //     .data(filteredSeries)
                            //     .join("g")
                            //     .attr("fill", d => color(d.key))
                            //     .selectAll("rect")
                            //     .data(D => D.map(d => (d.key = D.key, d)))
                            //     .join("rect")
                            //     .attr("id", "econbars")
                            //     .attr("x", d => x(d.data[0]))
                            //     .attr("y", d => y(d[1]))
                            //     .on("mouseover", mouseover)
                            //     .on("mousemove", mousemove)
                            //     .on("mouseleave", mouseleave)
                            //     .attr("height", d => y(d[0]) - y(d[1]))
                            //     .attr("width", x.bandwidth())
                            //     .append("title")
                            //     }
                            // }

                    })

                    .catch(error => console.error('Error fetching CSV:', error)); 
            </script>
    </section>
    <section class = "section">
            <div class = "item chartTitle"> Regional Overview of Storms </div>
            <p> Below, you can see the presence of different storms in various regions. Each bar indicates
                that there was at least one of the storm type in that year.  </p>
        <select id="regiondropdown"></select>
        <div id="regionBreakdown"></div>
        <script>
            fetch('data/cleaned/regional_frequencies.csv') 
                .then(response => response.text()) 
                .then(csvString => {
                    const country_freq = d3.csvParse(csvString, (d) => { 
                        return {
                        year: d.Year, 
                        //country: d.Country,
                        region: d.Region,
                        disasterType: d.disasterType,
                        frequency: +d.len
                        }}
                    )
                        console.log(country_freq);


                        // Specify the chartâ€™s dimensions.
                        const width= 1300;
                        const height = 600;
                        const marginTop = 20;
                        const marginRight = 20;
                        const marginBottom = 30;
                        const marginLeft = 30;
                        
                        // // Create the SVG container.
                        let div1 = d3
                            .select("#regionBreakdown")
                            .append("svg")
                            .attr("width", width)
                            .attr("height", height)
                            .attr("viewBox", [0, 0, width, height])
                            .text("Number of Natural Disasters")
                            .attr("style", "max-width: 100%; height: auto; overflow: visible; font: 10px sans-serif;");

                        
                        // create array for column values
                        let options = [...new Set(country_freq.map(d => d.region))].sort(); 
                        options.unshift("Select Region");
                        let disType = [...new Set(country_freq.map(d => d.disasterType))].sort(); 
                        let allYears = [...new Set(country_freq.map(d => d.year))].sort(); 
                        
                        var color = d3.scaleOrdinal()
                                .domain(disType)
                                .range(d3.schemeObservable10)
                        // Generate legend

                        var padding = 40
                        var legend = div1.append('g')
                            .attr('class', 'legend')
                            .attr('transform', 'translate(' + (padding + 12) + ', 0)');
                        
                        
                        legend.selectAll('rect')
                            .data(disType)
                            .enter()
                            .append('rect')
                            .attr('x', 0)
                            .attr('y', function(d, i){
                                return i * 18;
                            })
                            .attr('width', 12)
                            .attr('height', 12)
                            .attr('fill', d => color(d) );
                        
                        legend.selectAll('text')
                            .data(disType)
                            .enter()
                            .append('text')
                            .text(function(d){
                                return d;
                            })
                            .attr('x', 18)
                            .attr('y', function(d, i){
                                return i * 18;
                            })
                            .attr('text-anchor', 'start')
                            .attr('fill', 'white')
                            .attr('alignment-baseline', 'hanging');

                        // generate dropdown
                        d3.select("#regiondropdown")
                            .selectAll('myOptions')
                            .data(options)
                            .enter()
                            .append('option')
                            .text(function (d) {
                                return d; }) // text showed in the menu
                            .attr("value", function (d) { return d; }); // corresponding value returned by the button
                        
                        d3
                            .select("#regiondropdown")
                            .on("change", function(d) {
                                // remove existing bars & axes
                                d3.selectAll(`#regionbars`).remove()
                                d3.selectAll(`#regionaxis`).remove()

                                // recover the option that has been chosen
                                var selectedRegion = d3.select(this).property("value")
                                console.log(selectedRegion)
                                regiondata = country_freq.filter(d => d.region === selectedRegion)
                                console.log(regiondata)

                                const series = d3.stack()
                                    .keys(d3.union(regiondata.map(d => d.disasterType))) // distinct series keys, in input order
                                    .value(([, D], key) => D.get(key)?.frequency || 0) // get value for each series key and stack, default 0 
                                    (d3.index(regiondata, d => d.year, d => d.disasterType)); // group by stack then series key
                                

                                // Prepare the scales for positional and color encodings.
                                const x = d3.scaleBand()
                                    .domain(allYears)
                                    .range([marginLeft, width - marginRight])
                                    .padding(0.1);
                                
                                const y = d3.scaleLinear()
                                    .domain([0, 1.25 * (d3.max(series, d => d3.max(d, d => d[1])))])
                                    .rangeRound([height - marginBottom, marginTop]);



                                // A function to format the value in the tooltip.
                                const formatValue = x => isNaN(x) ? "N/A" : x.toLocaleString("en")


                                // Append the horizontal axis.
                                div1.append("g")
                                .attr("transform", `translate(0,${height - marginBottom})`)
                                .call(d3.axisBottom(x)
                                    .tickValues(allYears.filter(year => year % 5 === 0)) // Show every 5th year
                                    .tickSizeOuter(0)
                                )
                                .call(g => g.selectAll(".domain").remove());

                                // Append the vertical axis. - COMMENTING OUT FOR SUBMISSION (UNTIL I GET FREQUENCY WORKING)
                                // div1.append("g")
                                //     .attr("transform", `translate(${marginLeft},0)`)
                                //     .attr("id", 'regionaxis')
                                //     .call(d3.axisLeft(y).ticks(null, "s"))
                                //     .call(g => g.selectAll(".domain").remove());
                                
                                // ----------------
                                // Create a tooltip
                                // ----------------
                                var tooltip = d3.select("#regionBreakdown")
                                    .append("div")
                                    .style("opacity", 0)
                                    .attr("class", "tooltip")
                                    .style("background-color", "white")
                                    .style("border", "solid")
                                    .style("border-width", "1px")
                                    .style("border-radius", "5px")
                                    .style("padding", "10px")

                                // Three function that change the tooltip when user hover / move / leave a cell
                                var mouseover = function(d) {
                                    var disasterType = d3.select(this.parentNode).datum().key;
                                    var frequency = -(d3.select(this).datum()[0] - d3.select(this).datum()[1]);
                                    //var value = this
                                    tooltip
                                        // .html("Disaster Type: " + subgroupName + "<br>" + "Value: " + subgroupValue)
                                        .html(`${disasterType}: ${frequency}`)
                                        .style("opacity", 1)
                                }
                                var mousemove = function(d) {
                                    tooltip
                                    .style("left", (d3.pointer(this)[0]+90) + "px") // It is important to put the +90: other wise the tooltip is exactly where the point is an it creates a weird effect
                                    .style("top", (d3.pointer(this)[1]) + "px")
                                }
                                var mouseleave = function(d) {
                                    tooltip
                                    .style("opacity", 0)
                                }
                                
                                // Append a group for each series, and a rect for each element in the series.
                                div1.append("g")
                                    .selectAll()
                                    .data(series)
                                    .join("g")
                                    .attr("fill", d => color(d.key))
                                    .selectAll("rect")
                                    .data(D => D.map(d => (d.key = D.key, d)))
                                    .join("rect")
                                    .attr("x", d => x(d.data[0]))
                                    .attr("y", d => y(d[1]))
                                    .on("mouseover", mouseover)
                                    .on("mousemove", mousemove)
                                    .on("mouseleave", mouseleave)
                                    .attr("height", d => y(d[0]) - y(d[1]))
                                    .attr("width", x.bandwidth())
                                    .attr("id", 'regionbars')
                                    .append("title")
                                    //.text(d => `${d.data[0]} ${d.key}\n${formatValue(d.data[1].get(d.key).frequency)}`);

                                    })

            



                })



                .catch(error => console.error('Error fetching CSV:', error)); 
            


        </script>
    <div> References </div>
    <text> Data Source:
        <a href="https://www.kaggle.com/datasets/brsdincer/all-natural-disasters-19002021-eosdis/data"> All Natural Disasters 1970 - 2021 /EOSDIS </a>  - 
        <a href = "http://opendatacommons.org/licenses/dbcl/1.0/"> See License</a> <br /> </text>
    <text> Data Source: 
        <a href = "https://ourworldindata.org/grapher/economic-damage-from-natural-disasters?time=1922..2024" > EM-DAT Economic Data by Natural Disaster Type</a>
         With major processing by Our World in Data. Licensed 
        <a href = "https://creativecommons.org/licenses/by/4.0/"> CC BY</a>.
    </text>
    </section>
    </body>
</html>